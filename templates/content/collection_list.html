{% extends "base.html" %}

{% block title %}Curated Links | AI Shipping Labs{% endblock %}
{% block meta_description %}Curated GitHub tools, model hubs, courses, and learning resources. Dev tools, local LLMs, and courses.{% endblock %}

{% block body %}
{% include "includes/header.html" %}
<main class="min-h-screen pt-24">
  <section class="py-16 lg:py-24">
    <div class="mx-auto max-w-7xl px-6 lg:px-8">
      <div class="mb-12">
        <p class="inline-flex items-center gap-2 text-sm font-medium uppercase tracking-widest text-accent">
          <i data-lucide="folder-open" class="h-4 w-4"></i>
          Curated Links
        </p>
        <h1 class="mt-4 text-3xl font-semibold tracking-tight sm:text-4xl" style="text-wrap: balance;">
          Tools, Models & Courses
        </h1>
        <p class="mt-4 max-w-2xl text-lg text-muted-foreground">
          Curated links to GitHub repos, model hubs, and learning resources.
          Filter by category or browse all.
        </p>
      </div>

      <!-- Category filter -->
      <div class="space-y-8">
        <div class="flex flex-wrap gap-2">
          <button type="button" onclick="filterCollection('all')" class="collection-filter-btn rounded-full px-4 py-2 text-sm font-medium bg-accent text-accent-foreground" data-category="all">All</button>
          {% for cat in categories %}
          <button type="button" onclick="filterCollection('{{ cat.key }}')" class="collection-filter-btn rounded-full px-4 py-2 text-sm font-medium bg-secondary text-muted-foreground hover:bg-secondary/80 hover:text-foreground" data-category="{{ cat.key }}">{{ cat.label }}</button>
          {% endfor %}
        </div>

        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3" id="collection-grid">
          {% for link in links %}
          <a href="{{ link.url }}" target="_blank" rel="noopener noreferrer"
             class="collection-card group flex flex-col rounded-xl border border-border bg-card p-6 transition-colors hover:border-accent/50"
             data-category="{{ link.category }}">
            <div class="flex flex-1 flex-col">
              <div class="mb-2 flex items-start justify-between gap-2">
                <span class="inline-flex items-center gap-1.5 rounded-full bg-secondary px-2.5 py-0.5 text-xs font-medium text-muted-foreground">
                  <i data-lucide="{{ link.category_icon_name }}" class="h-3.5 w-3.5"></i>
                  {{ link.category_label }}
                </span>
                {% if link.is_external %}
                <i data-lucide="external-link" class="h-4 w-4 shrink-0 text-muted-foreground transition-colors group-hover:text-accent"></i>
                {% endif %}
              </div>
              <h3 class="text-lg font-semibold text-foreground transition-colors group-hover:text-accent">{{ link.title }}</h3>
              <p class="mt-2 line-clamp-3 text-sm text-muted-foreground">{{ link.description }}</p>
              {% if link.source %}
              <p class="mt-3 text-xs text-muted-foreground">{{ link.source }}</p>
              {% endif %}
            </div>
          </a>
          {% endfor %}
        </div>
      </div>
    </div>
  </section>
</main>
{% include "includes/footer.html" %}

<script>
function filterCollection(category) {
  // Update buttons
  document.querySelectorAll('.collection-filter-btn').forEach(function(btn) {
    if (btn.dataset.category === category) {
      btn.className = 'collection-filter-btn rounded-full px-4 py-2 text-sm font-medium bg-accent text-accent-foreground';
    } else {
      btn.className = 'collection-filter-btn rounded-full px-4 py-2 text-sm font-medium bg-secondary text-muted-foreground hover:bg-secondary/80 hover:text-foreground';
    }
  });
  // Filter cards
  document.querySelectorAll('.collection-card').forEach(function(card) {
    if (category === 'all' || card.dataset.category === category) {
      card.style.display = '';
    } else {
      card.style.display = 'none';
    }
  });
}
</script>
{% endblock %}
